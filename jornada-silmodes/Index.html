<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="IMG/icon.png" class="icon" alt="icon">
    <title>Simoldes Tools</title>
    <link rel="stylesheet" href="CSS/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <a href="Index.html">
            <img src="IMG/logo.png" alt="Logo Simoldes" class="logo">
        </a>
        <nav>
            <!-- Menu Lateral -->
            <input type="checkbox" id="check">

            <!-- Botões de controle - ambos na mesma posição -->
            <label for="check">
            <i class="fas fa-bars" id="btn"></i>
            <i class="fas fa-times" id="cancel"></i>
            </label>

            <div class="sidebar">
            <header>
                <img src="IMG/logo.png" alt="Logo Simoldes" class="logo-sidebar">
            </header>
                
            <a href="index.html" class="link-sidebar">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            
            <a href="#" class="link-sidebar" onclick="showTable('production')">
                <i class="fas fa-industry"></i>
                <span >Moldes em Produção</span>
            </a>
            
            <a href="#" class="link-sidebar" onclick="showTable('finished')">
                <i class="fas fa-check-circle"></i>
                <span >Moldes Finalizados</span> 
            </a>
            
            <a href="#" class="link-sidebar" onclick="showTable('stock')">
                <i class="fas fa-boxes"></i>
                <span >Estoque</span>
            </a>
            
            <a href="#" class="link-sidebar">
                <i class="fas fa-cog"></i>
                <span>Configurações</span>
            </a>
            </div>
        </nav>
    </header>

    <main id="content-area">
        <!-- Área inicial vazia -->
        <div id="table-container" class="initial-state">
            <div class="welcome-message">
                <h2>Bem-vindo ao Simoldes Tools</h2>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 Simoldes Tools. Todos os direitos reservados.</p>
    </footer>

    <script>
        // Dados de exemplo (substitua pelos seus dados reais)
        const moldData = {
            production: [
                { id: "1678", processos: "Corte, Usinagem", status: "Em andamento" },
                { id: "1679", processos: "Corte, Solda", status: "Aguardando revisão" }
            ],
            finished: [
                { id: "1676", processos: "Completo", status: "Pronto para entrega" },
                { id: "1677", processos: "Completo", status: "Entregue" }
            ],
            stock: [
                { id: "AÇO-201", codigo: "AC-304", quantidade: "50 unidades" },
                { id: "AÇO-202", codigo: "AC-416", quantidade: "30 unidades" }
            ]
        };

         // Variável para controlar a tabela atual
        let currentTableType = '';

        // Função para mostrar a tabela correta
        function showTable(tableType) {
            const container = document.getElementById('table-container');
            container.classList.remove('initial-state');
            
            // Atualiza a tabela atual
            currentTableType = tableType;
            
            let html = '';
            
            if (tableType === 'production') {
                html = createTable(moldData.production, 'Moldes em Produção', true);
            } 
            else if (tableType === 'finished') {
                html = createTable(moldData.finished, 'Moldes Finalizados', true);
            } 
            else if (tableType === 'stock') {
                html = createTable(moldData.stock, 'Estoque de Aços', false);
            }
            
            container.innerHTML = html;
        }

        // Função para visualizar um item
        function viewItem(itemId) {
            // Verifica qual tabela está ativa
            if (currentTableType === 'production' || currentTableType === 'finished') {
                // Redireciona para a página de moldes finalizados
                window.location.href = `molde-finalizado.html?id=${itemId}`;
            } 
            else if (currentTableType === 'stock') {
                // Redireciona para a página de estoque de aços
                window.location.href = `aco-estoque.html?id=${itemId}`;
            }
        }

        // Função para criar a tabela HTML
        function createTable(data, title, showProcessColumn) {
            let html = `<h2>${title}</h2>
                       <table class="data-table">
                           <thead>
                               <tr>
                                   <th>Número</th>
                                   ${showProcessColumn ? '<th>Processos Realizados</th>' : '<th>Código</th>'}
                                   <th>Status/Quantidade</th>
                                   <th>Ação</th>
                               </tr>
                           </thead>
                           <tbody>`;
            
            data.forEach(item => {
                html += `<tr>
                            <td>${item.id}</td>
                            <td>${showProcessColumn ? item.processos : item.codigo}</td>
                            <td>${item.status || item.quantidade}</td>
                            <td><button class="view-btn" onclick="viewItem('${item.id}')">Visualizar</button></td>
                        </tr>`;
            });
            
            html += `</tbody></table>`;
            return html;
        }
    </script>
</body>
</html>